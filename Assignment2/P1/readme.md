Read this https://homes.cs.washington.edu/~shwetak/classes/ee472/notes/SchedImplementation.pdf
And here http://www.atakansarioglu.com/easy-task-scheduler-real-time/

Consulted with Alec Braithwaite